{"version":3,"file":"static/js/699.1748beea.chunk.js","mappings":"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","sources":["Hooks/useAsync.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Form.module.css?f88e","pages/Movies/Form.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport const useAsync = (fn, param) => {\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const result = await fn(param);\n        setData(result);\n      } catch (error) {\n        setError(error.message);\n      }\n    };\n\n    fetchData();\n  }, [fn, param]);\n\n  return [data, setData, error];\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__cwWwH\",\"input\":\"Form_input__0JhqH\",\"button\":\"Form_button__+e8RP\"};","import React from 'react';\nimport { useForm } from 'react-hook-form';\n\nimport s from './Form.module.css';\n\nconst Form = ({ setSearchParams }) => {\n  const { register, handleSubmit, reset, watch } = useForm();\n\n  const searchValue = watch('searchValue');\n\n  const submit = () => {\n    setSearchParams(searchValue ? { query: searchValue } : {});\n    reset();\n  };\n\n  return (\n    <form onSubmit={handleSubmit(submit)} className={s.form}>\n      <input {...register('searchValue')} type=\"search\" className={s.input} />\n      <button type=\"submit\" className={s.button}>\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default Form;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesItem\":\"Movies_moviesItem__2Ne0E\"};","import React, { useMemo } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport Form from './Form';\nimport { fetchMoviesByQuery } from 'services/api';\nimport { useAsync } from 'Hooks/useAsync';\nimport s from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') || '';\n  const location = useLocation();\n  const queryParams = useMemo(() => ({ query }), [query]);\n  const [movies] = useAsync(fetchMoviesByQuery, queryParams);\n\n  return (\n    <>\n      <Form setSearchParams={setSearchParams} />\n      {movies && (\n        <ul>\n          {movies.map(movie => (\n            <li key={movie.id}>\n              <Link\n                state={{ from: location }}\n                to={movie.id.toString()}\n                className={s.moviesItem}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  method: 'GET',\n  url: 'https://api.themoviedb.org/3/trending/all/day',\n  params: {language: 'en-US'},\n  headers: {\n    accept: 'application/json',\n    Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjNTM1M2YyYWMwYWI3ZDk4YThlN2E5Y2RjMzVhMjk0YSIsInN1YiI6IjY1ZGY2Y2Q3YTliOWE0MDE0YThlMjI2NyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.uN2kueWrb_iU8a5pq2oQ8enPNjekCz6SDXHHaVkpRKI'\n  }\n};\n\nexport const fetchTrendingMovies = async () => {\n  const { data } = await axios.get('trending/movie/day', options);\n  return data.results;\n};\n\nexport const fetchMovieDetails = async id => {\n  const { data } = await axios.get(`movie/${id}`, options);\n  return data;\n};\n\nexport const fetchMovieCredits = async id => {\n  const { data } = await axios.get(`movie/${id}/credits`, options);\n  return data;\n};\n\nexport const fetchMovieReviews = async id => {\n  const { data } = await axios.get(`movie/${id}/reviews`, options);\n  return data.results;\n};\n\nexport const fetchMoviesByQuery = async ({ query }) => {\n  const { data } = await axios.get(`search/movie`, {\n    ...options,\n    params: { ...options.params, query },\n  });\n  return data.results;\n};"],"names":["useAsync","fn","param","_useState","useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","error","setError","useEffect","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","result","_context","prev","next","sent","t0","message","stop","apply","arguments","setSearchParams","_useForm","useForm","register","handleSubmit","reset","searchValue","watch","_jsxs","onSubmit","query","className","s","children","_jsx","_objectSpread","type","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","get","location","useLocation","queryParams","useMemo","_useAsync","fetchMoviesByQuery","movies","_Fragment","Form","map","movie","Link","state","from","to","id","toString","title","axios","options","method","url","params","language","headers","accept","Authorization","fetchTrendingMovies","_yield$axios$get","abrupt","results","fetchMovieDetails","_ref2","_callee2","_yield$axios$get2","_context2","concat","_x","fetchMovieCredits","_ref3","_callee3","_yield$axios$get3","_context3","_x2","fetchMovieReviews","_ref4","_callee4","_yield$axios$get4","_context4","_x3","_ref6","_callee5","_ref5","_yield$axios$get5","_context5","_x4"],"sourceRoot":""}